{% extends 'base.html' %}

{% block title %}
    Modify Notices
{% endblock title %}

{% block content %}
<div class="container mt-4">

    <h3 class="my-5">Notice Page</h3>
    <a href="{% url 'create_notice' %}" class="btn btn-success">Add Notice</a>
    <h4 class="text-center alert alert-info mt-3">Show Notice Information</h4>

    <!-- Display Messages -->
    <div>
        {% if messages %}
            {% for message in messages %}
                <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %} alert-dismissible fade show text-success" role="alert">
                    {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endfor %}
        {% endif %}
    </div>


    <!-- Display paginated notices -->
    <table class="table table-bordered mt-3">
        <thead>
            <tr>
                <th>ID</th>
                <th>Title</th>
                <th>Content</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for notice in notices %}
            <tr>
                <td>{{ notice.id }}</td>
                <td>{{ notice.title }}</td>
                <td>{{ notice.content }}</td>
                <td>
                    <a href="{% url 'edit_notice' notice.id %}" class="btn btn-warning btn-sm">Edit</a>
                    <a href="{% url 'delete_notice' notice.id %}" class="btn btn-danger btn-sm">Delete</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">No notices available.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Pagination controls -->
    <nav aria-label="Page navigation">
        <ul class="pagination">
            {% if notices.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page=1" aria-label="First">
                    &laquo;
                </a>
            </li>
            <li class="page-item">
                <a class="page-link" href="?page={{ notices.previous_page_number }}" aria-label="Previous">
                    &lsaquo;
                </a>
            </li>
            {% endif %}

            <li class="page-item">
                <span class="page-link">
                    Page {{ notices.number }} of {{ notices.paginator.num_pages }}
                </span>
            </li>

            {% if notices.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ notices.next_page_number }}" aria-label="Next">
                    &rsaquo;
                </a>
            </li>
            <li class="page-item">
                <a class="page-link" href="?page={{ notices.paginator.num_pages }}" aria-label="Last">
                    &raquo;
                </a>
            </li>
            {% endif %}
        </ul>
    </nav>
</div>
{% endblock content %}
